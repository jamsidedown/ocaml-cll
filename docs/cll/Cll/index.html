<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cll (cll.Cll)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.3.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">cll</a> &#x00BB; Cll</nav><header class="odoc-preamble"><h1>Module <code><span>Cll</span></code></h1><p>A mutable circular linked list.</p><p>Designed for <code>O(1)</code> insertion and removal, <code>O(n)</code> traversal, and close to <code>O(1)</code> search using a backing hashtable.</p></header><nav class="odoc-toc"><ul><li><a href="#creation">Creation</a><ul><li><a href="#init">init</a></li></ul></li><li><a href="#operations-without-side-effects">Operations without side effects</a><ul><li><a href="#head">head</a></li><li><a href="#length">length</a></li><li><a href="#to_list">to_list</a></li></ul></li><li><a href="#traversal">Traversal</a><ul><li><a href="#next">next</a></li><li><a href="#prev">prev</a></li><li><a href="#find">find</a></li><li><a href="#seek">seek</a></li></ul></li><li><a href="#modification">Modification</a><ul><li><a href="#add">add</a></li><li><a href="#pop">pop</a></li></ul></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span></code></div><div class="spec-doc"><p>The type of circular linked lists with elements of type <code>'a</code>.</p></div></div><h2 id="creation"><a href="#creation" class="anchor"></a>Creation</h2><h3 id="init"><a href="#init" class="anchor"></a>init</h3><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span><span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>Cll.init lst</code> initialises a circular linked list from the list <code>lst</code>. After initialisation, the element at the start of the original list will be at the head of the circular linked list.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ]
(*
 head
  |
  V
  1
4   2
  3
*)</code></pre></div></div><h2 id="operations-without-side-effects"><a href="#operations-without-side-effects" class="anchor"></a>Operations without side effects</h2><p>These functions can safely be called without modifying the underlying circular linked list.</p><h3 id="head"><a href="#head" class="anchor"></a>head</h3><div class="odoc-spec"><div class="spec value anchored" id="val-head"><a href="#val-head" class="anchor"></a><code><span><span class="keyword">val</span> head : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>Cll.head cll</code> returns the value at the current head of the circular linked list, or None if the list is empty.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.head cll
(* int option = Some 1 *)</code></pre></div></div><h3 id="length"><a href="#length" class="anchor"></a>length</h3><div class="odoc-spec"><div class="spec value anchored" id="val-length"><a href="#val-length" class="anchor"></a><code><span><span class="keyword">val</span> length : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>Cll.length cll</code> returns the number of values stored in the circular linked list. The length is updated when values are added and removed, so calling <code>Cll.length</code> returns in <code>O(1)</code>.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.length cll
(* int = 4 *)</code></pre></div></div><h3 id="to_list"><a href="#to_list" class="anchor"></a>to_list</h3><div class="odoc-spec"><div class="spec value anchored" id="val-to_list"><a href="#val-to_list" class="anchor"></a><code><span><span class="keyword">val</span> to_list : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> list</span></span></code></div><div class="spec-doc"><p><code>Cll.to_list cll</code> traverses and returns a list of all of the values in the circular linked list in order starting at the <code>head</code>.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.to_list cll
(* int list = [1; 2; 3; 4] *)</code></pre></div></div><h2 id="traversal"><a href="#traversal" class="anchor"></a>Traversal</h2><h3 id="next"><a href="#next" class="anchor"></a>next</h3><div class="odoc-spec"><div class="spec value anchored" id="val-next"><a href="#val-next" class="anchor"></a><code><span><span class="keyword">val</span> next : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Cll.next cll</code> moves the head of the circular linked list to the node to the right of the current head. Equivalent of moving the head clockwise on a clock face, or moving the entire clock face anticlockwise.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.next cll
(*
     head
      |
      V
      2
    1   3
      4
*)</code></pre></div></div><h3 id="prev"><a href="#prev" class="anchor"></a>prev</h3><div class="odoc-spec"><div class="spec value anchored" id="val-prev"><a href="#val-prev" class="anchor"></a><code><span><span class="keyword">val</span> prev : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Cll.prev cll</code> moves the head of the circular linked list to the node to the left of the current head. Equivalent of moving the head anticlockwise on a clock face, or moving the entire clock face clockwise.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.prev cll
(*
     head
      |
      V
      4
    3   1
      2
*)</code></pre></div></div><h3 id="find"><a href="#find" class="anchor"></a>find</h3><div class="odoc-spec"><div class="spec value anchored" id="val-find"><a href="#val-find" class="anchor"></a><code><span><span class="keyword">val</span> find : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>Cll.find cll value</code> searches for a value in the circular linked list using the backing hashtable. If the value exists in the list, the head of the list will be set to that node, and <code>Cll.find</code> will return <code>true</code>. If the value isn't in the list, then the head of the list will not be changed, and <code>Cll.find</code> will return <code>false</code>. If there is more than one matching value in the list, then the most recently added value will become the new head. This function is significantly faster than <code>Cll.seek</code> for large lists.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.find cll 3
(* bool = true *)
(*
     head
      |
      V
      3
    2   4
      1
*)</code></pre></div></div><h3 id="seek"><a href="#seek" class="anchor"></a>seek</h3><div class="odoc-spec"><div class="spec value anchored" id="val-seek"><a href="#val-seek" class="anchor"></a><code><span><span class="keyword">val</span> seek : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>Cll.seek cll value</code> searches for a value in the circular linked list by looking through the values in the list one by one, in order. If the value exists in the list, the head of the list will be set to that nde, and <code>Cll.seek</code> with return <code>true</code>. If the value isn't in the list, then the head of the list will set back to the original head, and <code>Cll.seek</code> will return <code>false</code>. Because this function searches through in order one element at a time, if there is more than one matching value in the list, then the closest clockwise value will become the new head. This function is slower than <code>Cll.find</code> for large lists, and should be used when the order of the values in the list is important.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.find cll 3
(* bool = true *)
(*
     head
      |
      V
      3
    2   4
      1
*)</code></pre></div></div><h2 id="modification"><a href="#modification" class="anchor"></a>Modification</h2><h3 id="add"><a href="#add" class="anchor"></a>add</h3><div class="odoc-spec"><div class="spec value anchored" id="val-add"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>Cll.add cll value</code> adds a new value to the circular linked list. The new value is inserted between the current head and the next value clockwise of the head. The new value becomes the new head of the list. If the value added is the first element in the list, both <code>next</code> and <code>previous</code> will also be the value being added.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4 ] in
Cll.add cll 9
(*
     head
      |
      V
      9
    1   2
     4 3
*)</code></pre></div></div><h3 id="pop"><a href="#pop" class="anchor"></a>pop</h3><div class="odoc-spec"><div class="spec value anchored" id="val-pop"><a href="#val-pop" class="anchor"></a><code><span><span class="keyword">val</span> pop : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>Cll.pop cll</code> removes the element currently at the head of the circular linked list and returns the value. The <code>next</code> and <code>previous</code> values of the old head will then point to each other, and the <code>next</code> value will become the new head. If the list is empty, <code>Cll.pop</code> will return <code>None</code>.</p><pre class="language-ocaml"><code>let cll = Cll.init [ 1; 2; 3; 4; 5 ] in
Cll.pop cll
(* int option = Some 1 *)
(*
     head
      |
      V
      2
    5   3
      4
*)</code></pre></div></div></div></body></html>
